<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="./../styles.css">

    <title>JQUERY FORM</title>
</head>

<body>
    <header>
        <div>
            <img class="hot-icon" src="./../images/hot.png" alt="">
            <big>HTML EMAIL</big>
        </div>
        <a href="./../index.html">HOME</a>
        <a href="./../html/index.html">HTML FORM</a>
        <a href="./index.html">JQUERY FROM</a>
        <a href="./../axios/index.html">AXIOS FORM</a>
    </header>

    <div class="container">


        <!-- Form started -->
        <form action="http://erichie.com/firesauce/api/mail.php" method="POST" class="ajax">
            <input type="text" name="name" placeholder="Your Name"> <br>
            <input type="text" name="from" placeholder="Your email"> <br>
            <textarea name="body" placeholder="Your message"></textarea> <br>
            <input type="submit" value="send">
            <p style="display:none;" id="response_messsage_success">
                You message was successfully sent.
            </p>
            <p style="display:none;" id="response_messsage_failed">
                Something went wrong with your message.
            </p>
        </form>
        <!-- Form ended -->

    </div>

    <!-- Jquery CDN -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>

    <!-- Javascript for Jquery -->
    <script type="text/javascript">
        $('form.ajax').on('submit', function () {
            var that = $(this),
                url = that.attr('action');
            method = that.attr('method');
            data = {};

            that.find('[name]').each(function (index, value) {
                var that = $(this);
                name = that.attr('name');s
                value = that.val();
                data[name] = value;
                data.to = "hiro@mrhiro.com";
            });

            console.log('url:', url);
            console.log('method:', method);
            console.log('data:', data);

            $.ajax({
                type: method,
                url: url,
                data: data,
                crossDomain: true,
                success: function () {
                data = {};
                console.log("Success");
                document.getElementById("response_messsage_success").style.display = "block";
            },
                error: function () {
                console.log("Failed");
                document.getElementById("response_messsage_failed").style.display = "block";
            },
            });

            return false;
        });
    </script>
    <!-- End  of Javascript for Jquery -->


</body>

</html>